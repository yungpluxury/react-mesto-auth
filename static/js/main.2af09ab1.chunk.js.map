{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","validation/useFormWithValidation.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/RemovePlacePopup.js","components/AuthForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoToolTip.js","utils/api.js","utils/auth.js","images/res.png","images/rej.png","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","email","onLogout","pathname","useLocation","linkText","linkPath","className","src","logoImage","alt","onClick","to","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","cardDeleteButton","owner","_id","type","isLiked","likes","some","item","cardLikeButtonClassName","console","log","link","name","length","Main","isEditAvatarPopupOpen","isEditProfilePopupOpen","isAddPlacePopupOpen","cards","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","isOpen","PopupWithForm","children","title","textButton","onSubmit","isDisabled","noValidate","disabled","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","evt","target","value","validationMessage","closest","checkValidity","EditAvatarPopup","onUpdateAvatar","useEffect","event","preventDefault","id","placeholder","onChange","required","EditProfilePopup","onUpdateUser","e","minLength","maxLength","AddPlacePopup","onAddPlace","RemovePlacePopup","onDeleteCard","AuthForm","text","active","action","Login","onLogin","password","data","setData","Register","onRegister","ProtectedRoute","Component","component","props","InfoTooltip","message","icon","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkErrors","userData","body","JSON","stringify","all","getInitialCards","getUserInfo","authorization","BASE_URL","App","setLoggedIn","setEmail","setMessage","isInfoTooltipOpen","setInfoTooltipOpen","history","useHistory","handleLogout","localStorage","removeItem","push","getItem","jwt","token","statusText","catch","err","error","rejectIcon","selectedCard","setSelectedCard","setCurrentUser","setCards","useCardId","setUseCardId","setIsAvatarPopupOpen","setIsProfilePopupOpen","setIsAddPlacePopupOpen","isRemovePlacePopupOpen","setIsRemovePlacePopupOpen","handleEscClose","key","closeAllPopups","handleOverlayClose","classList","contains","window","addEventListener","removeEventListener","api","Provider","exact","path","changeLikeCardStatus","newCards","auth","setItem","resolveIcon","changeUserAvatar","setUserInfoByApi","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2af09ab1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport logoImage from '../images/logo.svg';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction Header({ loggedIn, email, onLogout }) {\n  const { pathname } = useLocation();\n  const linkText = `${pathname === '/sign-in' ? 'Регистрация' : 'Войти'}`;\n  const linkPath = `${pathname === '/sign-in' ? '/sign-up' : '/sign-in'}`;\n\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logoImage} alt=\"Логотип\" />\n      {loggedIn ? (\n        <div className='header__auth-info'>\n          <span className='header__email'>{email}</span>\n          <button className='header__auth-info-signout' onClick={onLogout}>Выйти</button>\n        </div>\n        )\n        : (<Link to={linkPath} className=\"header__link\">{linkText}</Link>)\n      }\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { useContext } from \"react\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n    const currentUser = useContext(CurrentUserContext);\n    const isOwn = card.owner._id === currentUser._id;\n    const cardDeleteButton = isOwn\n    ? (<button className=\"element__trash-icon\" type=\"button\" onClick={handleDeleteClick} />)\n    : null;\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n    const cardLikeButtonClassName = `element__like \n    ${isLiked\n        ? ('element__like_active')\n        : ''}`;\n\n\n    function handleCardClick() {\n        onCardClick(card);\n    }\n    function handleLikeClick() {\n        onCardLike(card);\n    }\n    function handleDeleteClick() {\n        onCardDelete(card);\n    }\n    console.log(card);\n    return (\n        <figure className=\"element\">\n            <img className=\"element__image\" src={card.link} alt={`${card.name}`} onClick={handleCardClick} />\n            {cardDeleteButton}\n            <figcaption className=\"element__name-container\">\n                <h2 className=\"element__name\">{card.name}</h2>\n                <div className=\"element__like-container\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                    <p className=\"element__like-count\">{card.likes.length}</p>\n                </div>\n            </figcaption>\n        </figure>\n    )\n}\n\n\nexport default Card;","import React, { useContext } from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({isEditAvatarPopupOpen, isEditProfilePopupOpen, isAddPlacePopupOpen, cards, onCardClick, onCardLike, onCardDelete}) {\n\nconst currentUser = useContext(CurrentUserContext);\n\n\n\nreturn (\n    <main className=\"content\">\n        <section className=\"profile\">\n            <div className=\"profile__avatar-container\">\n                <button type=\"button\" className=\"profile__avatar-edit-button\" onClick={isEditAvatarPopupOpen}></button>\n                <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар пользователя\" />\n            </div>                \n            <div className=\"profile__info\">\n                <div className=\"profile__head\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button type=\"button\" className=\"profile__edit-button\" onClick={isEditProfilePopupOpen}></button>\n                </div>\n                <p className=\"profile__description\">{currentUser.about}</p>\n            </div>\n            <button type=\"button\" className=\"profile__add-button\" onClick={isAddPlacePopupOpen}></button>\n        </section>\n        <section className=\"elements\">\n            {\n                cards.map(card => (\n                    <Card\n                        card={card}\n                        key={card._id}\n                        onCardClick={onCardClick}\n                        onCardLike={onCardLike}\n                        onCardDelete={onCardDelete}\n                    />\n                ))\n            }\n        </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()}. Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup_function_image popup ${card.isOpen ? 'popup_is-opened' : ''}`}>\n        <div className=\"popup__image-container\">\n            <button className=\"popup__close-button popup__close-button_function_image\" onClick={onClose}></button>\n            <img src={card?.link} alt={card?.name} className=\"popup__image\" />\n            <p className=\"popup__image-description\">{card?.name}</p>\n        </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm({ children, name, title, textButton, isOpen, onClose, onSubmit, isDisabled }) {\n  return (\n    <section className={`popup popup_function_${name} ${isOpen ? 'popup_is-opened' : ''}`}>\n      <div className={\"popup__container\"}>\n        <button\n          className={\"popup__close-button\"}\n          type={\"button\"}\n          onClick={onClose}>\n        </button>\n        <h2 className={\"popup__title\"}>\n          {title}</h2>\n        <form\n          className={\"form\"}\n          name={name}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          <button\n            className={\"form__save-button\"}\n            type={\"submit\"}\n            disabled={isDisabled}>\n            {textButton}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;","import { useState, useCallback } from \"react\";\n\nexport function useFormWithValidation() {\n\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (evt) => {\n    const target = evt.target;\n    const name = target.name;\n    const value = target.value;\n\n    setValues({\n      ...values,\n      [name]: value\n    });\n\n    setErrors({\n      ...errors,\n      [name]: target.validationMessage\n    });\n\n    setIsValid(target.closest('.form').checkValidity());\n\n  }\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  )\n\n  return {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  };\n\n};","import React from 'react';\nimport { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { useFormWithValidation } from '../validation/useFormWithValidation';\n\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\n    \n    const {\n        values,\n        errors,\n        isValid,\n        handleChange,\n        resetForm\n      } = useFormWithValidation({});\n\n    useEffect(() => {\n        resetForm();\n      }, [isOpen, resetForm])\n\n    function handleSubmit(event) {\n        event.preventDefault();\n\n        onUpdateAvatar(values);\n    }\n  \n    return (\n        <PopupWithForm\n            name=\"popup-add-avatar\"\n            title=\"Обновить аватар\"\n            textButton=\"Обновить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            isDisabled={!isValid}\n        >\n        <input\n            className={errors.avatar ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n            type=\"url\"\n            id=\"avatar-link\"\n            placeholder=\"Ссылка на аватар\"\n            aria-label=\"ссылка\"\n            name=\"avatar\"\n            value={values.avatar || ''}\n            onChange={handleChange}\n            required\n        />\n        <span id='avatar-link-error'\n        className={errors.avatar ? 'form__input-error_active' : 'form__input-error'}>{errors.avatar}</span>\n      </PopupWithForm>\n    );\n  }\n  \n  export default EditAvatarPopup;","import React, { useContext, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\nimport { useFormWithValidation } from '../validation/useFormWithValidation';\n\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose }) {\n  \n  const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  } = useFormWithValidation({});\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser(values);\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser);\n    }\n  }, [currentUser, isOpen, resetForm]);\n\n  return (\n    <PopupWithForm\n      name=\"popup-profile\"\n      title=\"Редактировать профиль\"\n      textButton=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isValid}\n    >\n      <input\n        className={errors.name ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n        type=\"text\"\n        id=\"profile-name\"\n        placeholder=\"Ваше имя\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={values.name || ''}\n        onChange={handleChange}\n        required\n      />\n      <span id='name-error' className={errors.name ? 'form__input-error_active' : 'form__input-error'}>{errors.name}</span>\n      <input\n        className={errors.about ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n        type=\"text\"\n        id=\"profile-about\"\n        placeholder=\"Расскажите о себе\"\n        name=\"about\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={values.about || ''}\n        onChange={handleChange}\n        required\n      />\n      <span id='about-error' className={errors.about ? 'form__input-error_active' : 'form__input-error'}>{errors.name}</span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React, { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { useFormWithValidation } from '../validation/useFormWithValidation';\n\n\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\n\n  const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  } = useFormWithValidation({});\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onAddPlace(values);\n  }\n\n  useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm])\n\n  return (\n    <PopupWithForm\n      name=\"popup-add-card\"\n      title=\"Новое место\"\n      textButton=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isValid}\n    >\n      <input\n        className={errors.name ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n        type=\"text\"\n        aria-label=\"Название места\"\n        id=\"photo-title\"\n        placeholder=\"Название\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={values.name || ''}\n        onChange={handleChange}\n        required\n      />\n      <span id='name-error' className={errors.name ? 'form__input-error_active' : 'form__input-error'}>{errors.name}</span>\n      <input\n        className={errors.link ? 'form__element-text form__element-text_type-error' : 'form__element-text'}\n        type=\"url\"\n        aria-label=\"Ссылка на картинку\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"link\"\n        minLength=\"7\"\n        maxLength=\"300\"\n        value={values.link || ''}\n        onChange={handleChange}\n        required\n      />\n      <span id='link-error' className={errors.name ? 'form__input-error_active' : 'form__input-error'}>{errors.link}</span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction RemovePlacePopup({ onDeleteCard, isOpen, onClose }) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"popup-remove-card\"\n      title=\"Вы уверены?\"\n      textButton=\"Да\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n\n  );\n}\n\nexport default RemovePlacePopup;","import React from 'react';\nimport { Link } from \"react-router-dom\";\n\nfunction AuthForm({ title, text, active, children, onSubmit }) {\n  return (\n    <div className=\"auth\"> \n      <div className=\"auth__container\">\n        <h2 className=\"auth__title\">{title}</h2>\n        <form className=\"auth__form\" onSubmit={onSubmit} action=\"#\" noValidate>\n          {children}\n          <button type=\"submit\" className=\"auth__button\">{text}</button>\n        </form>\n        <p className={`auth__text ${active}`}>Уже зарегистрированы? <Link to=\"/sign-in\" className=\"auth__link\">Войти</Link></p>\n      </div>\n    </div> \n  );\n}\n\nexport default AuthForm;","import React from 'react';\nimport AuthForm from './AuthForm.js';\n\nfunction Login({ onLogin }) {\n  const [ data, setData ] = React.useState({\n    email: '',\n    password: ''\n  });\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    let { email, password } = data;\n    onLogin(email, password);\n  }\n\n  return (\n    <AuthForm \n      title={'Вход'}\n      text={'Войти'}\n      active={''}\n      children={\n        <>\n          <label>\n            <input type=\"email\" value={data.email} className=\"auth__item auth__item_type_email\" name=\"email\" onChange={handleChange} placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\" />\n            <span id=\"email-error\" className=\"auth__item-error\"></span>\n          </label>\n          <label>\n            <input type=\"password\" value={data.password} className=\"auth__item auth__item_type_password\" name=\"password\" onChange={handleChange} placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"200\" />\n            <span id=\"password-error\" className=\"auth__item-error\"></span>\n          </label>\n        </>\n      }\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default Login;","import React from 'react';\nimport AuthForm from './AuthForm.js';\n\nfunction Register({ onRegister }) {\n  const [ data, setData ] = React.useState({\n    email: '',\n    password: ''\n  });\n\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    let { email, password } = data;\n    onRegister(email, password);\n  }\n\n\n  return (\n    <AuthForm \n      title={'Регистрация'}\n      text={'Зарегистрироваться'}\n      active={'auth__text_active'}\n      children={\n        <>\n          <label>\n            <input type=\"email\" value={data.email} className=\"auth__item auth__item_type_email\" name=\"email\" onChange={handleChange} placeholder=\"Email\" required minLength=\"2\" maxLength=\"40\" />\n            <span id=\"email-error\" className=\"auth__item-error\"></span>\n          </label>\n          <label>\n            <input type=\"password\" value={data.password} className=\"auth__item auth__item_type_password\" name=\"password\" onChange={handleChange} placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"200\" />\n            <span id=\"password-error\" className=\"auth__item-error\"></span>\n          </label>\n        </>\n      }\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default Register;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props  }) {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./login\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;","import React from 'react';\n\nfunction InfoTooltip({ isOpen, onClose, message, name }) {\n  return (\n    <section className={`popup popup_function_${name} ${isOpen ? 'popup_is-opened' : ''}`}>\n    <div className={\"popup__container\"}>\n      <button\n        className={\"popup__close-button\"}\n        type={\"button\"}\n        onClick={onClose}>\n      </button>\n        <img src={message.icon} alt='Иконка авторизации' className='form__tooltip-icon' />\n      <p className='form__tooltip-text'>{message.text}</p>\n    </div>\n  </section>\n  );\n}\n\nexport default InfoTooltip;","class Api {\n    constructor(options) {\n        this._url = options.url;\n        this._headers = options.headers;\n    }\n\n    _checkErrors(res) {\n        if (res.ok) {\n          return res.json()\n        } else {\n            return Promise.reject(`Error: ${res.status}`)\n        }\n    }\n\n    getInitialCards() {\n        return fetch(this._url + '/cards', {\n            method: 'GET',\n            headers: this._headers\n        })\n        .then(this._checkErrors)\n    }\n\n    getUserInfo() {\n        return fetch(this._url + '/users/me', {\n          method: 'GET',\n          headers: this._headers\n        })\n        .then(this._checkErrors)\n    }\n\n    setUserInfoByApi(userData) {\n        return fetch(this._url + '/users/me', {\n          method: 'PATCH',\n          headers: this._headers,\n          body: JSON.stringify({\n            name: userData.name,\n            about: userData.about\n          })\n        })\n        .then(this._checkErrors)\n    }\n\n    addCard(data) {\n        return fetch(this._url + '/cards', {\n          method: 'POST',\n          headers: this._headers,\n          body: JSON.stringify({\n            name: data.name,\n            link: data.link\n          })\n        })\n        .then(this._checkErrors)\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n      return fetch(this._url + `/cards/likes/${id}`, {\n        method: isLiked ? 'DELETE' : 'PUT',\n        headers: this._headers\n      })\n        .then(this._checkErrors)\n    }\n\n    deleteCard(id) {\n        return fetch(this._url + `/cards/${id}`, {\n          method: 'DELETE',\n          headers: this._headers\n        })\n        .then(this._checkErrors)\n    }\n\n    changeUserAvatar(userData) {\n        console.log(userData);\n        return fetch(this._url + '/users/me/avatar', {\n          method: 'PATCH',\n          headers: this._headers,\n          body: JSON.stringify({\n            avatar: userData.avatar\n          })\n        })\n        .then(this._checkErrors)\n    }\n\n    getData() {\n        return Promise.all([this.getInitialCards(), this.getUserInfo()])\n    }\n}\n\nexport default new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-25',\n  headers: {\n      authorization: '1e3ace66-7bc0-4085-a74d-3975b1264152',\n      'Content-Type': 'application/json'\n  }\n});","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n  .then((res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n  });\n  // ({400 message: 'некорректно заполнено одно из полей' }));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n  .then((res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n  });\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then((res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    // if (!res.ok) {\n\n    //   return res.json()\n    //     .then((err) => {\n    //       res.status(401).res.send(err.message);\n    //     });\n    // }\n    // return res.json()\n  })\n};","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, {useState, useEffect} from 'react';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\n\nimport '../App.css';\nimport '../index.css';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport RemovePlacePopup from './RemovePlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoToolTip';\nimport api from '../utils/api.js';\nimport * as auth from '../utils/auth.js';\nimport resolveIcon from '../images/res.png';\nimport rejectIcon from '../images/rej.png';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState({\n    icon: '',\n    text: ''\n  });\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n  const history = useHistory();\n  function handleLogin(email, password) {\n    auth.authorize(email, password)\n      .then((data) => {\n        localStorage.setItem('jwt', data.token);\n        setEmail(email);\n        setLoggedIn(true);\n        history.push('/');\n        setMessage({ \n          icon: resolveIcon, \n          text: 'Вы успешно вошли!' \n        });\n        setInfoTooltipOpen(true);\n      })\n      .catch((err) => {\n        console.error(err);\n        setMessage({ \n          icon: rejectIcon, \n          text: 'Что-то пошло не так! Попробуйте ещё раз.' \n        });\n        setInfoTooltipOpen(true);\n      });\n  }\n\n  function handleRegister(email, password) {\n    auth.register(email, password)\n      .then((data) => {\n        if(data) {\n          localStorage.setItem('jwt', data.jwt);\n          setEmail(data.data.email);\n        }\n        history.push('/sign-in');\n        setMessage({ \n          icon: resolveIcon, \n          text: 'Вы успешно зарегистрировались!' \n        });\n        setInfoTooltipOpen(true);\n      })\n      .catch((err) => {\n        console.error(err);\n        setMessage({ \n          icon: rejectIcon, \n          text: 'Что-то пошло не так! Попробуйте ещё раз.' \n        });\n        setInfoTooltipOpen(true);\n      });\n  }\n\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    setEmail('');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      auth.getContent(jwt)\n        .then((res) => {\n          if (res){\n            setEmail(res.data.email);\n            }\n            setLoggedIn(true);\n            history.push('/');\n        })\n        .catch((err) => {\n          console.error(err);\n          setMessage({ \n            icon: rejectIcon, \n            text: 'Что-то пошло не так! Попробуйте ещё раз.' \n          });\n          setInfoTooltipOpen(true);\n        });\n    }\n  }, []);\n\n  const [selectedCard, setSelectedCard] = useState({\n    isOpen: false,\n    owner: { name: '' }\n  });\n  const [currentUser, setCurrentUser] = useState({\n    name: 'Loading...',\n    about: ''\n  });\n  const [cards, setCards] = useState([]);\n  const [useCardId, setUseCardId] = useState('');\n\n  const [isEditAvatarPopupOpen, setIsAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isRemovePlacePopupOpen, setIsRemovePlacePopupOpen] = useState(false);\n  \n\n  function handleEscClose(evt) {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n  \n  function handleOverlayClose(evt) {\n    if (evt.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleEscClose);\n    window.addEventListener('mousedown', handleOverlayClose);\n  \n    return () => {\n      window.removeEventListener('keydown', handleEscClose);\n      window.removeEventListener('mousedown', handleOverlayClose);\n    };\n  })\n\n  const handleAddPlaceSubmit = (values) => {\n    api.addCard(values)\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    api.changeUserAvatar({ avatar })\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleUpdateUserInfo = (data) => {\n    api.setUserInfoByApi(data)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then(res => {\n        const newCards = cards.map(item => item._id === card._id ? res : item);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleCardDelete = () => {\n    api.deleteCard(useCardId)\n      .then(res => {\n        const newCards = cards.filter(item => item._id === useCardId ? null : item);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleTrashClick = (card) => {\n    setIsRemovePlacePopupOpen(true)\n    setUseCardId(card._id)\n  }\n  function handleEditAvatarClick() {\n      setIsAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n      setIsProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n      setIsAddPlacePopupOpen(true);\n  }\n  function handleCardClick(data) {\n      setSelectedCard({\n        isOpen: true,\n        ...data\n      });\n  }\n\n  function closeAllPopups() {\n      setSelectedCard({\n        isOpen: false,\n        owner: { name: '' }\n      });\n      setIsAddPlacePopupOpen(false);\n      setIsAvatarPopupOpen(false);\n      setIsProfilePopupOpen(false);\n      setIsRemovePlacePopupOpen(false);\n      setInfoTooltipOpen(false);\n  }\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then(res => {\n        setCurrentUser(res);\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }, []);\n  useEffect(() => {\n    api.getInitialCards()\n      .then(res => {\n        setCards(res)\n      })\n      .catch(err => console.log(`Error: ${err}`))\n  }, []);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n      <Header \n        loggedIn={loggedIn}\n        email={email}\n        onLogout={handleLogout}\n      />\n      <Switch>\n      <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} handleLogout={handleLogout} component={Main} \n      onCardClick={handleCardClick}\n      isEditAvatarPopupOpen={handleEditAvatarClick}\n      isEditProfilePopupOpen={handleEditProfileClick}\n      isAddPlacePopupOpen={handleAddPlaceClick}\n      cards={cards}\n      onCardLike={handleCardLike}\n      onCardDelete={handleTrashClick}\n      />\n      <Route path='/sign-in'>\n                <Login \n                  onLogin={handleLogin}\n                />\n              </Route>\n              <Route path='/sign-up'>\n                <Register \n                  onRegister={handleRegister}\n                />\n              </Route>\n              <Route>\n                {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n              </Route>\n      </Switch>\n      <Footer />\n      <InfoTooltip\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n        message={message}\n        name={\"tooltip\"}\n      />\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n      <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUserInfo}\n      />\n      <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n      />\n      <RemovePlacePopup\n          isOpen={isRemovePlacePopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n      />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}